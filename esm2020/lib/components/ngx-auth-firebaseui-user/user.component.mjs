import { Component, EventEmitter, forwardRef, Inject, Input, Output, } from "@angular/core";
import { FormControl, FormGroup, Validators } from "@angular/forms";
import { EMAIL_REGEX, PHONE_NUMBER_REGEX } from "../ngx-auth-firebaseui/auth.component";
import { NgxAuthFirebaseUIConfigToken } from "../../tokens";
import { map, take } from "rxjs/operators";
import * as i0 from "@angular/core";
import * as i1 from "@angular/fire/compat/auth";
import * as i2 from "../../services/auth-process.service";
import * as i3 from "../../services/firestore-sync.service";
import * as i4 from "@angular/material/card";
import * as i5 from "@angular/material/icon";
import * as i6 from "@angular/material/button";
import * as i7 from "@angular/material/form-field";
import * as i8 from "@angular/common";
import * as i9 from "@angular/flex-layout/flex";
import * as i10 from "@angular/material/tooltip";
import * as i11 from "@angular/forms";
import * as i12 from "@angular/material/input";
export class UserComponent {
    constructor(auth, authProcess, fireStoreService, config) {
        this.auth = auth;
        this.authProcess = authProcess;
        this.fireStoreService = fireStoreService;
        this.config = config;
        this.canLogout = true;
        this.canEditAccount = true;
        this.canDeleteAccount = true;
        // i18n commons
        this.notLoggedInText = "You are not logged in!";
        this.emailVerifiedText = "email is verified";
        this.emailNotVerifiedText = "email is not verified";
        this.cancelButtonText = "cancel";
        this.saveChangesButtonText = "Save changes";
        this.editButtonText = "edit";
        this.signoutButtonText = "Sign out";
        this.deleteAccountButtonText = "Delete account";
        //i18n name
        this.nameText = "Name";
        this.nameErrorRequiredText = "Name is required";
        // i18n email
        this.emailText = "Email";
        this.emailErrorRequiredText = "Email is required";
        this.emailErrorPatternText = "Please enter a valid email address";
        // i18n phone
        this.phoneText = "Phone number";
        this.phoneHintText = `
    The phone number is international. Therefore, it should start with a + sign or 00,
    followed by the country code, - and national number e.g: +49-12345678 or 0041-1234567890

      NOTE : the phone number must be a valid phone credential !!`;
        this.phoneErrorPatternText = "Please enter a valid phone number";
        // eslint-disable-next-line @angular-eslint/no-output-on-prefix
        this.onSignOut = new EventEmitter();
        // eslint-disable-next-line @angular-eslint/no-output-on-prefix
        this.onAccountEdited = new EventEmitter();
        // eslint-disable-next-line @angular-eslint/no-output-on-prefix
        this.onAccountDeleted = new EventEmitter();
    }
    changeEditMode() {
        if (this.editMode) {
            this.reset();
            this.editMode = false;
        }
        else {
            this.initUpdateFormGroup().subscribe((updateFormGroup) => {
                this.updateFormGroup = updateFormGroup;
                this.editMode = true;
            });
        }
    }
    reset() {
        this.updateFormGroup.reset();
        this.updateFormGroup.disable();
        this.updateFormGroup = null;
    }
    async save() {
        if (this.updateFormGroup.dirty) {
            this.editMode = false;
            const user = this.authProcess.user;
            // ngx-auth-firebaseui-user.updateProfile()
            // ngx-auth-firebaseui-user.updateEmail()
            // console.log('form = ', this.updateFormGroup);
            const snackBarMsg = [];
            try {
                if (this.updateNameFormControl.dirty) {
                    await user.updateProfile({
                        displayName: this.updateNameFormControl.value,
                    });
                    snackBarMsg.push(`your name has been updated to ${user.displayName}`);
                }
                if (this.updateEmailFormControl.dirty) {
                    await user.updateEmail(this.updateEmailFormControl.value);
                    snackBarMsg.push(`your email has been updated to ${user.email}`);
                }
                if (this.updatePhoneNumberFormControl.dirty) {
                    await user.updatePhoneNumber(this.updatePhoneNumberFormControl.value);
                    console.log("phone number = ", this.updatePhoneNumberFormControl.value);
                    snackBarMsg.push(`your phone number has been updated to ${user.phoneNumber}`);
                }
                if (this.config.enableFirestoreSync) {
                    await this.fireStoreService.updateUserData(this.authProcess.parseUserInfo(user));
                }
            }
            catch (error) {
                this.authProcess.showToast(error && error.message ? error.message : error);
                console.error(error);
            }
            if (snackBarMsg.length > 0) {
                this.authProcess.showToast(snackBarMsg.join("\\n"));
            }
            this.onAccountEdited.emit(); // emit event if the form was dirty
            this.updateFormGroup.reset();
        }
    }
    signOut() {
        this.auth
            .signOut()
            .then(() => this.onSignOut.emit())
            .catch((e) => console.error("An error happened while signing out!", e));
    }
    /**
     * Delete the account of the current firebase ngx-auth-firebaseui-user
     *
     * On Success, emit the <onAccountDeleted> event and toast a msg!#
     * Otherwise, log the and toast and error msg!
     *
     */
    async deleteAccount() {
        try {
            const user = this.authProcess.user;
            // await this.authProcess.deleteAccount();
            await this.authProcess.user.delete();
            // if (this.config.enableFirestoreSync) {
            await this.fireStoreService.deleteUserData(user.uid);
            // }
            this.onAccountDeleted.emit();
            this.editMode = false;
            console.log("Your account has been successfully deleted!");
            this.authProcess.showToast("Your account has been successfully deleted!");
        }
        catch (error) {
            console.log("Error while delete user account", error);
            this.authProcess.showToast(`Error occurred while deleting your account: ${error.message}`);
        }
    }
    initUpdateFormGroup() {
        return this.authProcess.user$.pipe(take(1), map((currentUser) => {
            const updateFormGroup = new FormGroup({
                name: this.updateNameFormControl = new FormControl({ value: currentUser.displayName, disabled: this.editMode }, [
                    Validators.required,
                    Validators.minLength(this.config.nameMinLength),
                    Validators.maxLength(this.config.nameMaxLength),
                ]),
                email: this.updateEmailFormControl = new FormControl({ value: currentUser.email, disabled: this.editMode }, [Validators.required, Validators.pattern(EMAIL_REGEX)]),
                phoneNumber: this.updatePhoneNumberFormControl = new FormControl({ value: currentUser.phoneNumber, disabled: this.editMode }, [Validators.pattern(PHONE_NUMBER_REGEX)]),
            });
            updateFormGroup.enable();
            return updateFormGroup;
        }));
    }
}
UserComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.2.2", ngImport: i0, type: UserComponent, deps: [{ token: i1.AngularFireAuth }, { token: i2.AuthProcessService }, { token: i3.FirestoreSyncService }, { token: forwardRef(() => NgxAuthFirebaseUIConfigToken) }], target: i0.ɵɵFactoryTarget.Component });
UserComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.2.2", type: UserComponent, selector: "ngx-auth-firebaseui-user", inputs: { editMode: "editMode", canLogout: "canLogout", canEditAccount: "canEditAccount", canDeleteAccount: "canDeleteAccount", appearance: "appearance", notLoggedInText: "notLoggedInText", emailVerifiedText: "emailVerifiedText", emailNotVerifiedText: "emailNotVerifiedText", cancelButtonText: "cancelButtonText", saveChangesButtonText: "saveChangesButtonText", editButtonText: "editButtonText", signoutButtonText: "signoutButtonText", deleteAccountButtonText: "deleteAccountButtonText", nameText: "nameText", nameErrorRequiredText: "nameErrorRequiredText", emailText: "emailText", emailErrorRequiredText: "emailErrorRequiredText", emailErrorPatternText: "emailErrorPatternText", phoneText: "phoneText", phoneHintText: "phoneHintText", phoneErrorPatternText: "phoneErrorPatternText" }, outputs: { onSignOut: "onSignOut", onAccountEdited: "onAccountEdited", onAccountDeleted: "onAccountDeleted" }, ngImport: i0, template: "<div *ngIf=\"auth.authState| async; then authenticated else none\">\n\n</div>\n\n<ng-template #authenticated>\n  <mat-card *ngIf=\"auth.user | async as user\">\n    <!--<form [formGroup]=\"updateFormGroup\" >-->\n    <!--card header-->\n    <mat-card-header fxLayout=\"column\" fxLayoutAlign=\"center center\">\n\n      <img *ngIf=\"authProcess?.getUserPhotoUrl() | async as photoUrl\" [src]=\"photoUrl\" mat-card-avatar>\n\n      <div *ngIf=\"user.emailVerified; then emailVerified else emailNotVerified\"></div>\n      <ng-template #emailVerified>\n        <mat-icon color=\"primary\"\n                  [matTooltip]=\"emailVerifiedText\"\n                  matTooltipPosition=\"after\">\n          verified_user\n        </mat-icon>\n      </ng-template>\n      <ng-template #emailNotVerified>\n        <mat-icon color=\"warn\"\n                  [matTooltip]=\"emailNotVerifiedText\"\n                  matTooltipPosition=\"after\">\n          warning\n        </mat-icon>\n      </ng-template>\n\n    </mat-card-header>\n\n    <!--card content-->\n    <mat-card-content *ngIf=\"editMode; then edit else readonly\">\n    </mat-card-content>\n\n    <ng-template #edit>\n      <form (submit)=\"save()\" [formGroup]=\"updateFormGroup\">\n\n        <mat-card-content fxLayout=\"column\" fxLayoutAlign=\"center center\">\n          <div fxLayoutAlign=\"center\">\n            <button (click)=\"changeEditMode()\" class=\"edit-button\" color=\"warn\"\n                    mat-raised-button>\n              {{cancelButtonText}}\n            </button>\n          </div>\n\n          <!--name-->\n          <mat-form-field [appearance]=\"appearance\" class=\"full-width\">\n            <mat-label>{{nameText}}</mat-label>\n            <input [formControl]=\"updateNameFormControl\"\n                   matInput\n                   [placeholder]=\"nameText\">\n            <mat-icon matSuffix>person</mat-icon>\n            <mat-hint align=\"end\" aria-live=\"polite\"> {{ updateNameFormControl.value?.length }}\n              / {{ config.nameMaxLength }} </mat-hint>\n            <mat-error *ngIf=\"updateNameFormControl.hasError('required')\">\n              {{nameErrorRequiredText}}\n            </mat-error>\n          </mat-form-field>\n\n          <!--email-->\n          <mat-form-field [appearance]=\"appearance\" class=\"full-width\">\n            <mat-label>{{emailText}}</mat-label>\n            <input [formControl]=\"updateEmailFormControl\"\n                   matInput\n                   [placeholder]=\"emailText\">\n            <mat-icon matSuffix>email</mat-icon>\n            <mat-error *ngIf=\"updateEmailFormControl.hasError('required')\">\n              {{emailErrorRequiredText}} {{updateEmailFormControl.value}}\n            </mat-error>\n            <mat-error *ngIf=\"updateEmailFormControl.hasError('pattern')\">\n              {{emailErrorPatternText}} {{updateEmailFormControl.value}}\n            </mat-error>\n          </mat-form-field>\n\n          <!--phone number-->\n          <mat-form-field *ngIf=\"false\" [appearance]=\"appearance\" class=\"full-width\">\n            <mat-label>{{phoneText}}</mat-label>\n            <input [formControl]=\"updatePhoneNumberFormControl\"\n                   matInput\n                   [placeholder]=\"phoneText\"\n                   type=\"tel\">\n            <mat-icon matSuffix>phone</mat-icon>\n            <mat-hint align=\"end\" aria-live=\"polite\">\n              {{phoneHintText}}\n            </mat-hint>\n            <mat-error *ngIf=\"updatePhoneNumberFormControl.hasError('pattern')\">\n              {{phoneErrorPatternText}}\n            </mat-error>\n          </mat-form-field>\n\n        </mat-card-content>\n\n        <mat-card-actions fxLayout=\"column\">\n          <button color=\"primary\"\n                  mat-button\n                  type=\"submit\">\n            {{saveChangesButtonText}}\n          </button>\n        </mat-card-actions>\n      </form>\n    </ng-template>\n\n    <ng-template #readonly>\n      <div fxLayoutAlign=\"center\">\n        <button *ngIf=\"canEditAccount\" (click)=\"changeEditMode()\" class=\"edit-button\" color=\"primary\"\n                mat-raised-button>\n          {{editButtonText}}\n        </button>\n      </div>\n\n      <!--name-->\n      <mat-form-field [appearance]=\"appearance\" class=\"full-width\">\n        <mat-label>{{nameText}}</mat-label>\n        <input [disabled]=\"!editMode\"\n               [value]=\"user.displayName\"\n               matInput\n               [placeholder]=\"nameText\">\n        <mat-icon color=\"primary\" matSuffix>person</mat-icon>\n      </mat-form-field>\n\n      <!--email-->\n      <mat-form-field [appearance]=\"appearance\" class=\"full-width\">\n        <mat-label>{{emailText}}</mat-label>\n        <input [disabled]=\"!editMode\"\n               [value]=\"user.email\" matInput\n               [placeholder]=\"emailText\">\n        <mat-icon color=\"primary\" matSuffix>email</mat-icon>\n      </mat-form-field>\n\n      <!--phone number-->\n      <mat-form-field *ngIf=\"false\" [appearance]=\"appearance\" class=\"full-width\">\n        <mat-label>{{phoneText}}</mat-label>\n        <input [disabled]=\"!editMode\"\n               [value]=\"user.phoneNumber\"\n               matInput\n               [placeholder]=\"phoneText\">\n        <mat-icon color=\"primary\" matSuffix>phone</mat-icon>\n      </mat-form-field>\n\n      <mat-card-actions fxLayout=\"column\">\n        <button (click)=\"signOut()\" *ngIf=\"canLogout\" color=\"primary\" mat-button>{{signoutButtonText}}</button>\n        <button (click)=\"deleteAccount()\" *ngIf=\"canDeleteAccount\" color=\"warn\" mat-button>{{deleteAccountButtonText}}</button>\n      </mat-card-actions>\n\n    </ng-template>\n\n  </mat-card>\n\n</ng-template>\n\n\n<ng-template #none>\n  <mat-card class=\"none-card\" fxLayout=\"row\" fxLayoutAlign=\"center center\">\n    <mat-card-content fxLayout=\"row\" fxLayoutAlign=\"center center\">\n      <mat-icon color=\"accent\">warning</mat-icon>\n      <span>{{notLoggedInText}}</span>\n    </mat-card-content>\n  </mat-card>\n</ng-template>\n", styles: [".edit-button{margin:1rem}.full-width{width:100%}.cut-text{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.none-card{min-height:430px}.none-card span{font-size:24px;text-align:center;color:#0000008a}\n"], components: [{ type: i4.MatCard, selector: "mat-card", exportAs: ["matCard"] }, { type: i4.MatCardHeader, selector: "mat-card-header" }, { type: i5.MatIcon, selector: "mat-icon", inputs: ["color", "inline", "svgIcon", "fontSet", "fontIcon"], exportAs: ["matIcon"] }, { type: i6.MatButton, selector: "button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]", inputs: ["disabled", "disableRipple", "color"], exportAs: ["matButton"] }, { type: i7.MatFormField, selector: "mat-form-field", inputs: ["color", "appearance", "hideRequiredMarker", "hintLabel", "floatLabel"], exportAs: ["matFormField"] }], directives: [{ type: i8.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i9.DefaultLayoutDirective, selector: "  [fxLayout], [fxLayout.xs], [fxLayout.sm], [fxLayout.md],  [fxLayout.lg], [fxLayout.xl], [fxLayout.lt-sm], [fxLayout.lt-md],  [fxLayout.lt-lg], [fxLayout.lt-xl], [fxLayout.gt-xs], [fxLayout.gt-sm],  [fxLayout.gt-md], [fxLayout.gt-lg]", inputs: ["fxLayout", "fxLayout.xs", "fxLayout.sm", "fxLayout.md", "fxLayout.lg", "fxLayout.xl", "fxLayout.lt-sm", "fxLayout.lt-md", "fxLayout.lt-lg", "fxLayout.lt-xl", "fxLayout.gt-xs", "fxLayout.gt-sm", "fxLayout.gt-md", "fxLayout.gt-lg"] }, { type: i9.DefaultLayoutAlignDirective, selector: "  [fxLayoutAlign], [fxLayoutAlign.xs], [fxLayoutAlign.sm], [fxLayoutAlign.md],  [fxLayoutAlign.lg], [fxLayoutAlign.xl], [fxLayoutAlign.lt-sm], [fxLayoutAlign.lt-md],  [fxLayoutAlign.lt-lg], [fxLayoutAlign.lt-xl], [fxLayoutAlign.gt-xs], [fxLayoutAlign.gt-sm],  [fxLayoutAlign.gt-md], [fxLayoutAlign.gt-lg]", inputs: ["fxLayoutAlign", "fxLayoutAlign.xs", "fxLayoutAlign.sm", "fxLayoutAlign.md", "fxLayoutAlign.lg", "fxLayoutAlign.xl", "fxLayoutAlign.lt-sm", "fxLayoutAlign.lt-md", "fxLayoutAlign.lt-lg", "fxLayoutAlign.lt-xl", "fxLayoutAlign.gt-xs", "fxLayoutAlign.gt-sm", "fxLayoutAlign.gt-md", "fxLayoutAlign.gt-lg"] }, { type: i4.MatCardAvatar, selector: "[mat-card-avatar], [matCardAvatar]" }, { type: i10.MatTooltip, selector: "[matTooltip]", exportAs: ["matTooltip"] }, { type: i4.MatCardContent, selector: "mat-card-content, [mat-card-content], [matCardContent]" }, { type: i11.ɵNgNoValidate, selector: "form:not([ngNoForm]):not([ngNativeValidate])" }, { type: i11.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { type: i11.FormGroupDirective, selector: "[formGroup]", inputs: ["formGroup"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { type: i7.MatLabel, selector: "mat-label" }, { type: i12.MatInput, selector: "input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]", inputs: ["disabled", "id", "placeholder", "name", "required", "type", "errorStateMatcher", "aria-describedby", "value", "readonly"], exportAs: ["matInput"] }, { type: i11.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { type: i11.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i11.FormControlDirective, selector: "[formControl]", inputs: ["formControl", "disabled", "ngModel"], outputs: ["ngModelChange"], exportAs: ["ngForm"] }, { type: i7.MatSuffix, selector: "[matSuffix]" }, { type: i7.MatHint, selector: "mat-hint", inputs: ["align", "id"] }, { type: i7.MatError, selector: "mat-error", inputs: ["id"] }, { type: i4.MatCardActions, selector: "mat-card-actions", inputs: ["align"], exportAs: ["matCardActions"] }], pipes: { "async": i8.AsyncPipe } });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.2.2", ngImport: i0, type: UserComponent, decorators: [{
            type: Component,
            args: [{ selector: "ngx-auth-firebaseui-user", template: "<div *ngIf=\"auth.authState| async; then authenticated else none\">\n\n</div>\n\n<ng-template #authenticated>\n  <mat-card *ngIf=\"auth.user | async as user\">\n    <!--<form [formGroup]=\"updateFormGroup\" >-->\n    <!--card header-->\n    <mat-card-header fxLayout=\"column\" fxLayoutAlign=\"center center\">\n\n      <img *ngIf=\"authProcess?.getUserPhotoUrl() | async as photoUrl\" [src]=\"photoUrl\" mat-card-avatar>\n\n      <div *ngIf=\"user.emailVerified; then emailVerified else emailNotVerified\"></div>\n      <ng-template #emailVerified>\n        <mat-icon color=\"primary\"\n                  [matTooltip]=\"emailVerifiedText\"\n                  matTooltipPosition=\"after\">\n          verified_user\n        </mat-icon>\n      </ng-template>\n      <ng-template #emailNotVerified>\n        <mat-icon color=\"warn\"\n                  [matTooltip]=\"emailNotVerifiedText\"\n                  matTooltipPosition=\"after\">\n          warning\n        </mat-icon>\n      </ng-template>\n\n    </mat-card-header>\n\n    <!--card content-->\n    <mat-card-content *ngIf=\"editMode; then edit else readonly\">\n    </mat-card-content>\n\n    <ng-template #edit>\n      <form (submit)=\"save()\" [formGroup]=\"updateFormGroup\">\n\n        <mat-card-content fxLayout=\"column\" fxLayoutAlign=\"center center\">\n          <div fxLayoutAlign=\"center\">\n            <button (click)=\"changeEditMode()\" class=\"edit-button\" color=\"warn\"\n                    mat-raised-button>\n              {{cancelButtonText}}\n            </button>\n          </div>\n\n          <!--name-->\n          <mat-form-field [appearance]=\"appearance\" class=\"full-width\">\n            <mat-label>{{nameText}}</mat-label>\n            <input [formControl]=\"updateNameFormControl\"\n                   matInput\n                   [placeholder]=\"nameText\">\n            <mat-icon matSuffix>person</mat-icon>\n            <mat-hint align=\"end\" aria-live=\"polite\"> {{ updateNameFormControl.value?.length }}\n              / {{ config.nameMaxLength }} </mat-hint>\n            <mat-error *ngIf=\"updateNameFormControl.hasError('required')\">\n              {{nameErrorRequiredText}}\n            </mat-error>\n          </mat-form-field>\n\n          <!--email-->\n          <mat-form-field [appearance]=\"appearance\" class=\"full-width\">\n            <mat-label>{{emailText}}</mat-label>\n            <input [formControl]=\"updateEmailFormControl\"\n                   matInput\n                   [placeholder]=\"emailText\">\n            <mat-icon matSuffix>email</mat-icon>\n            <mat-error *ngIf=\"updateEmailFormControl.hasError('required')\">\n              {{emailErrorRequiredText}} {{updateEmailFormControl.value}}\n            </mat-error>\n            <mat-error *ngIf=\"updateEmailFormControl.hasError('pattern')\">\n              {{emailErrorPatternText}} {{updateEmailFormControl.value}}\n            </mat-error>\n          </mat-form-field>\n\n          <!--phone number-->\n          <mat-form-field *ngIf=\"false\" [appearance]=\"appearance\" class=\"full-width\">\n            <mat-label>{{phoneText}}</mat-label>\n            <input [formControl]=\"updatePhoneNumberFormControl\"\n                   matInput\n                   [placeholder]=\"phoneText\"\n                   type=\"tel\">\n            <mat-icon matSuffix>phone</mat-icon>\n            <mat-hint align=\"end\" aria-live=\"polite\">\n              {{phoneHintText}}\n            </mat-hint>\n            <mat-error *ngIf=\"updatePhoneNumberFormControl.hasError('pattern')\">\n              {{phoneErrorPatternText}}\n            </mat-error>\n          </mat-form-field>\n\n        </mat-card-content>\n\n        <mat-card-actions fxLayout=\"column\">\n          <button color=\"primary\"\n                  mat-button\n                  type=\"submit\">\n            {{saveChangesButtonText}}\n          </button>\n        </mat-card-actions>\n      </form>\n    </ng-template>\n\n    <ng-template #readonly>\n      <div fxLayoutAlign=\"center\">\n        <button *ngIf=\"canEditAccount\" (click)=\"changeEditMode()\" class=\"edit-button\" color=\"primary\"\n                mat-raised-button>\n          {{editButtonText}}\n        </button>\n      </div>\n\n      <!--name-->\n      <mat-form-field [appearance]=\"appearance\" class=\"full-width\">\n        <mat-label>{{nameText}}</mat-label>\n        <input [disabled]=\"!editMode\"\n               [value]=\"user.displayName\"\n               matInput\n               [placeholder]=\"nameText\">\n        <mat-icon color=\"primary\" matSuffix>person</mat-icon>\n      </mat-form-field>\n\n      <!--email-->\n      <mat-form-field [appearance]=\"appearance\" class=\"full-width\">\n        <mat-label>{{emailText}}</mat-label>\n        <input [disabled]=\"!editMode\"\n               [value]=\"user.email\" matInput\n               [placeholder]=\"emailText\">\n        <mat-icon color=\"primary\" matSuffix>email</mat-icon>\n      </mat-form-field>\n\n      <!--phone number-->\n      <mat-form-field *ngIf=\"false\" [appearance]=\"appearance\" class=\"full-width\">\n        <mat-label>{{phoneText}}</mat-label>\n        <input [disabled]=\"!editMode\"\n               [value]=\"user.phoneNumber\"\n               matInput\n               [placeholder]=\"phoneText\">\n        <mat-icon color=\"primary\" matSuffix>phone</mat-icon>\n      </mat-form-field>\n\n      <mat-card-actions fxLayout=\"column\">\n        <button (click)=\"signOut()\" *ngIf=\"canLogout\" color=\"primary\" mat-button>{{signoutButtonText}}</button>\n        <button (click)=\"deleteAccount()\" *ngIf=\"canDeleteAccount\" color=\"warn\" mat-button>{{deleteAccountButtonText}}</button>\n      </mat-card-actions>\n\n    </ng-template>\n\n  </mat-card>\n\n</ng-template>\n\n\n<ng-template #none>\n  <mat-card class=\"none-card\" fxLayout=\"row\" fxLayoutAlign=\"center center\">\n    <mat-card-content fxLayout=\"row\" fxLayoutAlign=\"center center\">\n      <mat-icon color=\"accent\">warning</mat-icon>\n      <span>{{notLoggedInText}}</span>\n    </mat-card-content>\n  </mat-card>\n</ng-template>\n", styles: [".edit-button{margin:1rem}.full-width{width:100%}.cut-text{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.none-card{min-height:430px}.none-card span{font-size:24px;text-align:center;color:#0000008a}\n"] }]
        }], ctorParameters: function () { return [{ type: i1.AngularFireAuth }, { type: i2.AuthProcessService }, { type: i3.FirestoreSyncService }, { type: undefined, decorators: [{
                    type: Inject,
                    args: [forwardRef(() => NgxAuthFirebaseUIConfigToken)]
                }] }]; }, propDecorators: { editMode: [{
                type: Input
            }], canLogout: [{
                type: Input
            }], canEditAccount: [{
                type: Input
            }], canDeleteAccount: [{
                type: Input
            }], appearance: [{
                type: Input
            }], notLoggedInText: [{
                type: Input
            }], emailVerifiedText: [{
                type: Input
            }], emailNotVerifiedText: [{
                type: Input
            }], cancelButtonText: [{
                type: Input
            }], saveChangesButtonText: [{
                type: Input
            }], editButtonText: [{
                type: Input
            }], signoutButtonText: [{
                type: Input
            }], deleteAccountButtonText: [{
                type: Input
            }], nameText: [{
                type: Input
            }], nameErrorRequiredText: [{
                type: Input
            }], emailText: [{
                type: Input
            }], emailErrorRequiredText: [{
                type: Input
            }], emailErrorPatternText: [{
                type: Input
            }], phoneText: [{
                type: Input
            }], phoneHintText: [{
                type: Input
            }], phoneErrorPatternText: [{
                type: Input
            }], onSignOut: [{
                type: Output
            }], onAccountEdited: [{
                type: Output
            }], onAccountDeleted: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlci5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ3gtYXV0aC1maXJlYmFzZXVpL3NyYy9saWIvY29tcG9uZW50cy9uZ3gtYXV0aC1maXJlYmFzZXVpLXVzZXIvdXNlci5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ3gtYXV0aC1maXJlYmFzZXVpL3NyYy9saWIvY29tcG9uZW50cy9uZ3gtYXV0aC1maXJlYmFzZXVpLXVzZXIvdXNlci5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0wsU0FBUyxFQUNULFlBQVksRUFDWixVQUFVLEVBQ1YsTUFBTSxFQUNOLEtBQUssRUFDTCxNQUFNLEdBQ1AsTUFBTSxlQUFlLENBQUM7QUFFdkIsT0FBTyxFQUFFLFdBQVcsRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFFcEUsT0FBTyxFQUFFLFdBQVcsRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHVDQUF1QyxDQUFDO0FBRXhGLE9BQU8sRUFBRSw0QkFBNEIsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUk1RCxPQUFPLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxNQUFNLGdCQUFnQixDQUFDOzs7Ozs7Ozs7Ozs7OztBQVEzQyxNQUFNLE9BQU8sYUFBYTtJQWlEeEIsWUFDUyxJQUFxQixFQUNyQixXQUErQixFQUM5QixnQkFBc0MsRUFFdkMsTUFBK0I7UUFKL0IsU0FBSSxHQUFKLElBQUksQ0FBaUI7UUFDckIsZ0JBQVcsR0FBWCxXQUFXLENBQW9CO1FBQzlCLHFCQUFnQixHQUFoQixnQkFBZ0IsQ0FBc0I7UUFFdkMsV0FBTSxHQUFOLE1BQU0sQ0FBeUI7UUFwRC9CLGNBQVMsR0FBRyxJQUFJLENBQUM7UUFDakIsbUJBQWMsR0FBRyxJQUFJLENBQUM7UUFDdEIscUJBQWdCLEdBQUcsSUFBSSxD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QixLQUFLO2dCQUNHLGdCQUFnQjtzQkFBeEIsS0FBSztnQkFDRyxVQUFVO3NCQUFsQixLQUFLO2dCQUdHLGVBQWU7c0JBQXZCLEtBQUs7Z0JBQ0csaUJBQWlCO3NCQUF6QixLQUFLO2dCQUNHLG9CQUFvQjtzQkFBNUIsS0FBSztnQkFDRyxnQkFBZ0I7c0JBQXhCLEtBQUs7Z0JBQ0cscUJBQXFCO3NCQUE3QixLQUFLO2dCQUNHLGNBQWM7c0JBQXRCLEtBQUs7Z0JBQ0csaUJBQWlCO3NCQUF6QixLQUFLO2dCQUNHLHVCQUF1QjtzQkFBL0IsS0FBSztnQkFHRyxRQUFRO3NCQUFoQixLQUFLO2dCQUNHLHFCQUFxQjtzQkFBN0IsS0FBSztnQkFHRyxTQUFTO3NCQUFqQixLQUFLO2dCQUNHLHNCQUFzQjtzQkFBOUIsS0FBSztnQkFDRyxxQkFBcUI7c0JBQTdCLEtBQUs7Z0JBR0csU0FBUztzQkFBakIsS0FBSztnQkFDRyxhQUFhO3NCQUFyQixLQUFLO2dCQUtHLHFCQUFxQjtzQkFBN0IsS0FBSztnQkFHSSxTQUFTO3NCQUFsQixNQUFNO2dCQUdHLGVBQWU7c0JBQXhCLE1BQU07Z0JBR0csZ0JBQWdCO3NCQUF6QixNQUFNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQ29tcG9uZW50LFxuICBFdmVudEVtaXR0ZXIsXG4gIGZvcndhcmRSZWYsXG4gIEluamVjdCxcbiAgSW5wdXQsXG4gIE91dHB1dCxcbn0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcbmltcG9ydCB7IEFuZ3VsYXJGaXJlQXV0aCB9IGZyb20gXCJAYW5ndWxhci9maXJlL2NvbXBhdC9hdXRoXCI7XG5pbXBvcnQgeyBGb3JtQ29udHJvbCwgRm9ybUdyb3VwLCBWYWxpZGF0b3JzIH0gZnJvbSBcIkBhbmd1bGFyL2Zvcm1zXCI7XG5pbXBvcnQgZmlyZWJhc2UgZnJvbSBcImZpcmViYXNlL2NvbXBhdC9hcHBcIjtcbmltcG9ydCB7IEVNQUlMX1JFR0VYLCBQSE9ORV9OVU1CRVJfUkVHRVggfSBmcm9tIFwiLi4vbmd4LWF1dGgtZmlyZWJhc2V1aS9hdXRoLmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgTWF0Rm9ybUZpZWxkQXBwZWFyYW5jZSB9IGZyb20gXCJAYW5ndWxhci9tYXRlcmlhbC9mb3JtLWZpZWxkXCI7XG5pbXBvcnQgeyBOZ3hBdXRoRmlyZWJhc2VVSUNvbmZpZ1Rva2VuIH0gZnJvbSBcIi4uLy4uL3Rva2Vuc1wiO1xuaW1wb3J0IHsgTmd4QXV0aEZpcmViYXNlVUlDb25maWcgfSBmcm9tIFwiLi4vLi4vaW50ZXJmYWNlc1wiO1xuaW1wb3J0IHsgQXV0aFByb2Nlc3NTZXJ2aWNlIH0gZnJvbSBcIi4uLy4uL3NlcnZpY2VzL2F1dGgtcHJvY2Vzcy5zZXJ2aWNlXCI7XG5pbXBvcnQgeyBGaXJlc3RvcmVTeW5jU2VydmljZSB9IGZyb20gXCIuLi8uLi9zZXJ2aWNlcy9maXJlc3RvcmUtc3luYy5zZXJ2aWNlXCI7XG5pbXBvcnQgeyBtYXAsIHRha2UgfSBmcm9tIFwicnhqcy9vcGVyYXRvcnNcIjtcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tIFwicnhqc1wiO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6IFwibmd4LWF1dGgtZmlyZWJhc2V1aS11c2VyXCIsXG4gIHRlbXBsYXRlVXJsOiBcIi4vdXNlci5jb21wb25lbnQuaHRtbFwiLFxuICBzdHlsZVVybHM6IFtcIi4vdXNlci5jb21wb25lbnQuc2Nzc1wiXSxcbn0pXG5leHBvcnQgY2xhc3MgVXNlckNvbXBvbmVudCB7XG4gIEBJbnB1dCgpIGVkaXRNb2RlOiBib29sZWFuO1xuICBASW5wdXQoKSBjYW5Mb2dvdXQgPSB0cnVlO1xuICBASW5wdXQoKSBjYW5FZGl0QWNjb3VudCA9IHRydWU7XG4gIEBJbnB1dCgpIGNhbkRlbGV0ZUFjY291bnQgPSB0cnVlO1xuICBASW5wdXQoKSBhcHBlYXJhbmNlOiBNYXRGb3JtRmllbGRBcHBlYXJhbmNlO1xuXG4gIC8vIGkxOG4gY29tbW9uc1xuICBASW5wdXQoKSBub3RMb2dnZWRJblRleHQgPSBcIllvdSBhcmUgbm90IGxvZ2dlZCBpbiFcIjtcbiAgQElucHV0KCkgZW1haWxWZXJpZmllZFRleHQgPSBcImVtYWlsIGlzIHZlcmlmaWVkXCI7XG4gIEBJbnB1dCgpIGVtYWlsTm90VmVyaWZpZWRUZXh0ID0gXCJlbWFpbCBpcyBub3QgdmVyaWZpZWRcIjtcbiAgQElucHV0KCkgY2FuY2VsQnV0dG9uVGV4dCA9IFwiY2FuY2VsXCI7XG4gIEBJbnB1dCgpIHNhdmVDaGFuZ2VzQnV0dG9uVGV4dCA9IFwiU2F2ZSBjaGFuZ2VzXCI7XG4gIEBJbnB1dCgpIGVkaXRCdXR0b25UZXh0ID0gXCJlZGl0XCI7XG4gIEBJbnB1dCgpIHNpZ25vdXRCdXR0b25UZXh0ID0gXCJTaWduIG91dFwiO1xuICBASW5wdXQoKSBkZWxldGVBY2NvdW50QnV0dG9uVGV4dCA9IFwiRGVsZXRlIGFjY291bnRcIjtcblxuICAvL2kxOG4gbmFtZVxuICBASW5wdXQoKSBuYW1lVGV4dCA9IFwiTmFtZVwiO1xuICBASW5wdXQoKSBuYW1lRXJyb3JSZXF1aXJlZFRleHQgPSBcIk5hbWUgaXMgcmVxdWlyZWRcIjtcblxuICAvLyBpMThuIGVtYWlsXG4gIEBJbnB1dCgpIGVtYWlsVGV4dCA9IFwiRW1haWxcIjtcbiAgQElucHV0KCkgZW1haWxFcnJvclJlcXVpcmVkVGV4dCA9IFwiRW1haWwgaXMgcmVxdWlyZWRcIjtcbiAgQElucHV0KCkgZW1haWxFcnJvclBhdHRlcm5UZXh0ID0gXCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzXCI7XG5cbiAgLy8gaTE4biBwaG9uZVxuICBASW5wdXQoKSBwaG9uZVRleHQgPSBcIlBob25lIG51bWJlclwiO1xuICBASW5wdXQoKSBwaG9uZUhpbnRUZXh0ID0gYFxuICAgIFRoZSBwaG9uZSBudW1iZXIgaXMgaW50ZXJuYXRpb25hbC4gVGhlcmVmb3JlLCBpdCBzaG91bGQgc3RhcnQgd2l0aCBhICsgc2lnbiBvciAwMCxcbiAgICBmb2xsb3dlZCBieSB0aGUgY291bnRyeSBjb2RlLCAtIGFuZCBuYXRpb25hbCBudW1iZXIgZS5nOiArNDktMTIzNDU2Nzggb3IgMDA0MS0xMjM0NTY3ODkwXG5cbiAgICAgIE5PVEUgOiB0aGUgcGhvbmUgbnVtYmVyIG11c3QgYmUgYSB2YWxpZCBwaG9uZSBjcmVkZW50aWFsICEhYDtcbiAgQElucHV0KCkgcGhvbmVFcnJvclBhdHRlcm5UZXh0ID0gXCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBwaG9uZSBudW1iZXJcIjtcblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQGFuZ3VsYXItZXNsaW50L25vLW91dHB1dC1vbi1wcmVmaXhcbiAgQE91dHB1dCgpIG9uU2lnbk91dDogRXZlbnRFbWl0dGVyPHZvaWQ+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAYW5ndWxhci1lc2xpbnQvbm8tb3V0cHV0LW9uLXByZWZpeFxuICBAT3V0cHV0KCkgb25BY2NvdW50RWRpdGVkOiBFdmVudEVtaXR0ZXI8dm9pZD4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9uby1vdXRwdXQtb24tcHJlZml4XG4gIEBPdXRwdXQoKSBvbkFjY291bnREZWxldGVkOiBFdmVudEVtaXR0ZXI8dm9pZD4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgdXBkYXRlRm9ybUdyb3VwOiBGb3JtR3JvdXA7XG4gIHVwZGF0ZU5hbWVGb3JtQ29udHJvbDogRm9ybUNvbnRyb2w7XG4gIHVwZGF0ZUVtYWlsRm9ybUNvbnRyb2w6IEZvcm1Db250cm9sO1xuICB1cGRhdGVQaG9uZU51bWJlckZvcm1Db250cm9sOiBGb3JtQ29udHJvbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgYXV0aDogQW5ndWxhckZpcmVBdXRoLFxuICAgIHB1YmxpYyBhdXRoUHJvY2VzczogQXV0aFByb2Nlc3NTZXJ2aWNlLFxuICAgIHByaXZhdGUgZmlyZVN0b3JlU2VydmljZTogRmlyZXN0b3JlU3luY1NlcnZpY2UsXG4gICAgQEluamVjdChmb3J3YXJkUmVmKCgpID0+IE5neEF1dGhGaXJlYmFzZVVJQ29uZmlnVG9rZW4pKVxuICAgIHB1YmxpYyBjb25maWc6IE5neEF1dGhGaXJlYmFzZVVJQ29uZmlnXG4gICkge31cblxuICBjaGFuZ2VFZGl0TW9kZSgpIHtcbiAgICBpZiAodGhpcy5lZGl0TW9kZSkge1xuICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgdGhpcy5lZGl0TW9kZSA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmluaXRVcGRhdGVGb3JtR3JvdXAoKS5zdWJzY3JpYmUoKHVwZGF0ZUZvcm1Hcm91cDogRm9ybUdyb3VwKSA9PiB7XG4gICAgICAgIHRoaXMudXBkYXRlRm9ybUdyb3VwID0gdXBkYXRlRm9ybUdyb3VwO1xuICAgICAgICB0aGlzLmVkaXRNb2RlID0gdHJ1ZTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHRoaXMudXBkYXRlRm9ybUdyb3VwLnJlc2V0KCk7XG4gICAgdGhpcy51cGRhdGVGb3JtR3JvdXAuZGlzYWJsZSgpO1xuICAgIHRoaXMudXBkYXRlRm9ybUdyb3VwID0gbnVsbDtcbiAgfVxuXG4gIGFzeW5jIHNhdmUoKSB7XG4gICAgaWYgKHRoaXMudXBkYXRlRm9ybUdyb3VwLmRpcnR5KSB7XG4gICAgICB0aGlzLmVkaXRNb2RlID0gZmFsc2U7XG4gICAgICBjb25zdCB1c2VyID0gdGhpcy5hdXRoUHJvY2Vzcy51c2VyO1xuICAgICAgLy8gbmd4LWF1dGgtZmlyZWJhc2V1aS11c2VyLnVwZGF0ZVByb2ZpbGUoKVxuICAgICAgLy8gbmd4LWF1dGgtZmlyZWJhc2V1aS11c2VyLnVwZGF0ZUVtYWlsKClcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdmb3JtID0gJywgdGhpcy51cGRhdGVGb3JtR3JvdXApO1xuXG4gICAgICBjb25zdCBzbmFja0Jhck1zZzogc3RyaW5nW10gPSBbXTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKHRoaXMudXBkYXRlTmFtZUZvcm1Db250cm9sLmRpcnR5KSB7XG4gICAgICAgICAgYXdhaXQgdXNlci51cGRhdGVQcm9maWxlKHtcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiB0aGlzLnVwZGF0ZU5hbWVGb3JtQ29udHJvbC52YWx1ZSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzbmFja0Jhck1zZy5wdXNoKGB5b3VyIG5hbWUgaGFzIGJlZW4gdXBkYXRlZCB0byAke3VzZXIuZGlzcGxheU5hbWV9YCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy51cGRhdGVFbWFpbEZvcm1Db250cm9sLmRpcnR5KSB7XG4gICAgICAgICAgYXdhaXQgdXNlci51cGRhdGVFbWFpbCh0aGlzLnVwZGF0ZUVtYWlsRm9ybUNvbnRyb2wudmFsdWUpO1xuICAgICAgICAgIHNuYWNrQmFyTXNnLnB1c2goYHlvdXIgZW1haWwgaGFzIGJlZW4gdXBkYXRlZCB0byAke3VzZXIuZW1haWx9YCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy51cGRhdGVQaG9uZU51bWJlckZvcm1Db250cm9sLmRpcnR5KSB7XG4gICAgICAgICAgYXdhaXQgdXNlci51cGRhdGVQaG9uZU51bWJlcih0aGlzLnVwZGF0ZVBob25lTnVtYmVyRm9ybUNvbnRyb2wudmFsdWUpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgXCJwaG9uZSBudW1iZXIgPSBcIixcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUGhvbmVOdW1iZXJGb3JtQ29udHJvbC52YWx1ZVxuICAgICAgICAgICk7XG4gICAgICAgICAgc25hY2tCYXJNc2cucHVzaChcbiAgICAgICAgICAgIGB5b3VyIHBob25lIG51bWJlciBoYXMgYmVlbiB1cGRhdGVkIHRvICR7dXNlci5waG9uZU51bWJlcn1gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5lbmFibGVGaXJlc3RvcmVTeW5jKSB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5maXJlU3RvcmVTZXJ2aWNlLnVwZGF0ZVVzZXJEYXRhKFxuICAgICAgICAgICAgdGhpcy5hdXRoUHJvY2Vzcy5wYXJzZVVzZXJJbmZvKHVzZXIpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5hdXRoUHJvY2Vzcy5zaG93VG9hc3QoXG4gICAgICAgICAgZXJyb3IgJiYgZXJyb3IubWVzc2FnZSA/IGVycm9yLm1lc3NhZ2UgOiBlcnJvclxuICAgICAgICApO1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNuYWNrQmFyTXNnLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpcy5hdXRoUHJvY2Vzcy5zaG93VG9hc3Qoc25hY2tCYXJNc2cuam9pbihcIlxcXFxuXCIpKTtcbiAgICAgIH1cbiAgICAgIHRoaXMub25BY2NvdW50RWRpdGVkLmVtaXQoKTsgLy8gZW1pdCBldmVudCBpZiB0aGUgZm9ybSB3YXMgZGlydHlcbiAgICAgIHRoaXMudXBkYXRlRm9ybUdyb3VwLnJlc2V0KCk7XG4gICAgfVxuICB9XG5cbiAgc2lnbk91dCgpIHtcbiAgICB0aGlzLmF1dGhcbiAgICAgIC5zaWduT3V0KClcbiAgICAgIC50aGVuKCgpID0+IHRoaXMub25TaWduT3V0LmVtaXQoKSlcbiAgICAgIC5jYXRjaCgoZSkgPT4gY29uc29sZS5lcnJvcihcIkFuIGVycm9yIGhhcHBlbmVkIHdoaWxlIHNpZ25pbmcgb3V0IVwiLCBlKSk7XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlIHRoZSBhY2NvdW50IG9mIHRoZSBjdXJyZW50IGZpcmViYXNlIG5neC1hdXRoLWZpcmViYXNldWktdXNlclxuICAgKlxuICAgKiBPbiBTdWNjZXNzLCBlbWl0IHRoZSA8b25BY2NvdW50RGVsZXRlZD4gZXZlbnQgYW5kIHRvYXN0IGEgbXNnISNcbiAgICogT3RoZXJ3aXNlLCBsb2cgdGhlIGFuZCB0b2FzdCBhbmQgZXJyb3IgbXNnIVxuICAgKlxuICAgKi9cbiAgYXN5bmMgZGVsZXRlQWNjb3VudCgpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXNlciA9IHRoaXMuYXV0aFByb2Nlc3MudXNlcjtcblxuICAgICAgLy8gYXdhaXQgdGhpcy5hdXRoUHJvY2Vzcy5kZWxldGVBY2NvdW50KCk7XG4gICAgICBhd2FpdCB0aGlzLmF1dGhQcm9jZXNzLnVzZXIuZGVsZXRlKCk7XG4gICAgICAvLyBpZiAodGhpcy5jb25maWcuZW5hYmxlRmlyZXN0b3JlU3luYykge1xuICAgICAgYXdhaXQgdGhpcy5maXJlU3RvcmVTZXJ2aWNlLmRlbGV0ZVVzZXJEYXRhKHVzZXIudWlkKTtcbiAgICAgIC8vIH1cbiAgICAgIHRoaXMub25BY2NvdW50RGVsZXRlZC5lbWl0KCk7XG4gICAgICB0aGlzLmVkaXRNb2RlID0gZmFsc2U7XG4gICAgICBjb25zb2xlLmxvZyhcIllvdXIgYWNjb3VudCBoYXMgYmVlbiBzdWNjZXNzZnVsbHkgZGVsZXRlZCFcIik7XG4gICAgICB0aGlzLmF1dGhQcm9jZXNzLnNob3dUb2FzdChcIllvdXIgYWNjb3VudCBoYXMgYmVlbiBzdWNjZXNzZnVsbHkgZGVsZXRlZCFcIik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiRXJyb3Igd2hpbGUgZGVsZXRlIHVzZXIgYWNjb3VudFwiLCBlcnJvcik7XG4gICAgICB0aGlzLmF1dGhQcm9jZXNzLnNob3dUb2FzdChcbiAgICAgICAgYEVycm9yIG9jY3VycmVkIHdoaWxlIGRlbGV0aW5nIHlvdXIgYWNjb3VudDogJHtlcnJvci5tZXNzYWdlfWBcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIGluaXRVcGRhdGVGb3JtR3JvdXAoKTogT2JzZXJ2YWJsZTxGb3JtR3JvdXA+IHtcbiAgICByZXR1cm4gdGhpcy5hdXRoUHJvY2Vzcy51c2VyJC5waXBlKFxuICAgICAgdGFrZSgxKSxcbiAgICAgIG1hcCgoY3VycmVudFVzZXI6IGZpcmViYXNlLlVzZXIpID0+IHtcbiAgICAgICAgY29uc3QgdXBkYXRlRm9ybUdyb3VwID0gbmV3IEZvcm1Hcm91cCh7XG4gICAgICAgICAgbmFtZTogdGhpcy51cGRhdGVOYW1lRm9ybUNvbnRyb2wgPSBuZXcgRm9ybUNvbnRyb2woXG4gICAgICAgICAgICB7IHZhbHVlOiBjdXJyZW50VXNlci5kaXNwbGF5TmFtZSwgZGlzYWJsZWQ6IHRoaXMuZWRpdE1vZGUgfSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgVmFsaWRhdG9ycy5yZXF1aXJlZCxcbiAgICAgICAgICAgICAgVmFsaWRhdG9ycy5taW5MZW5ndGgodGhpcy5jb25maWcubmFtZU1pbkxlbmd0aCksXG4gICAgICAgICAgICAgIFZhbGlkYXRvcnMubWF4TGVuZ3RoKHRoaXMuY29uZmlnLm5hbWVNYXhMZW5ndGgpLFxuICAgICAgICAgICAgXVxuICAgICAgICAgICksXG5cbiAgICAgICAgICBlbWFpbDogdGhpcy51cGRhdGVFbWFpbEZvcm1Db250cm9sID0gbmV3IEZvcm1Db250cm9sKFxuICAgICAgICAgICAgeyB2YWx1ZTogY3VycmVudFVzZXIuZW1haWwsIGRpc2FibGVkOiB0aGlzLmVkaXRNb2RlIH0sXG4gICAgICAgICAgICBbVmFsaWRhdG9ycy5yZXF1aXJlZCwgVmFsaWRhdG9ycy5wYXR0ZXJuKEVNQUlMX1JFR0VYKV1cbiAgICAgICAgICApLFxuXG4gICAgICAgICAgcGhvbmVOdW1iZXI6IHRoaXMudXBkYXRlUGhvbmVOdW1iZXJGb3JtQ29udHJvbCA9IG5ldyBGb3JtQ29udHJvbChcbiAgICAgICAgICAgIHsgdmFsdWU6IGN1cnJlbnRVc2VyLnBob25lTnVtYmVyLCBkaXNhYmxlZDogdGhpcy5lZGl0TW9kZSB9LFxuICAgICAgICAgICAgW1ZhbGlkYXRvcnMucGF0dGVybihQSE9ORV9OVU1CRVJfUkVHRVgpXVxuICAgICAgICAgICksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHVwZGF0ZUZvcm1Hcm91cC5lbmFibGUoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUZvcm1Hcm91cDtcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxufVxuIiwiPGRpdiAqbmdJZj1cImF1dGguYXV0aFN0YXRlfCBhc3luYzsgdGhlbiBhdXRoZW50aWNhdGVkIGVsc2Ugbm9uZVwiPlxuXG48L2Rpdj5cblxuPG5nLXRlbXBsYXRlICNhdXRoZW50aWNhdGVkPlxuICA8bWF0LWNhcmQgKm5nSWY9XCJhdXRoLnVzZXIgfCBhc3luYyBhcyB1c2VyXCI+XG4gICAgPCEtLTxmb3JtIFtmb3JtR3JvdXBdPVwidXBkYXRlRm9ybUdyb3VwXCIgPi0tPlxuICAgIDwhLS1jYXJkIGhlYWRlci0tPlxuICAgIDxtYXQtY2FyZC1oZWFkZXIgZnhMYXlvdXQ9XCJjb2x1bW5cIiBmeExheW91dEFsaWduPVwiY2VudGVyIGNlbnRlclwiPlxuXG4gICAgICA8aW1nICpuZ0lmPVwiYXV0aFByb2Nlc3M/LmdldFVzZXJQaG90b1VybCgpIHwgYXN5bmMgYXMgcGhvdG9VcmxcIiBbc3JjXT1cInBob3RvVXJsXCIgbWF0LWNhcmQtYXZhdGFyPlxuXG4gICAgICA8ZGl2ICpuZ0lmPVwidXNlci5lbWFpbFZlcmlmaWVkOyB0aGVuIGVtYWlsVmVyaWZpZWQgZWxzZSBlbWFpbE5vdFZlcmlmaWVkXCI+PC9kaXY+XG4gICAgICA8bmctdGVtcGxhdGUgI2VtYWlsVmVyaWZpZWQ+XG4gICAgICAgIDxtYXQtaWNvbiBjb2xvcj1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgW21hdFRvb2x0aXBdPVwiZW1haWxWZXJpZmllZFRleHRcIlxuICAgICAgICAgICAgICAgICAgbWF0VG9vbHRpcFBvc2l0aW9uPVwiYWZ0ZXJcIj5cbiAgICAgICAgICB2ZXJpZmllZF91c2VyXG4gICAgICAgIDwvbWF0LWljb24+XG4gICAgICA8L25nLXRlbXBsYXRlPlxuICAgICAgPG5nLXRlbXBsYXRlICNlbWFpbE5vdFZlcmlmaWVkPlxuICAgICAgICA8bWF0LWljb24gY29sb3I9XCJ3YXJuXCJcbiAgICAgICAgICAgICAgICAgIFttYXRUb29sdGlwXT1cImVtYWlsTm90VmVyaWZpZWRUZXh0XCJcbiAgICAgICAgICAgICAgICAgIG1hdFRvb2x0aXBQb3NpdGlvbj1cImFmdGVyXCI+XG4gICAgICAgICAgd2FybmluZ1xuICAgICAgICA8L21hdC1pY29uPlxuICAgICAgPC9uZy10ZW1wbGF0ZT5cblxuICAgIDwvbWF0LWNhcmQtaGVhZGVyPlxuXG4gICAgPCEtLWNhcmQgY29udGVudC0tPlxuICAgIDxtYXQtY2FyZC1jb250ZW50ICpuZ0lmPVwiZWRpdE1vZGU7IHRoZW4gZWRpdCBlbHNlIHJlYWRvbmx5XCI+XG4gICAgPC9tYXQtY2FyZC1jb250ZW50PlxuXG4gICAgPG5nLXRlbXBsYXRlICNlZGl0PlxuICAgICAgPGZvcm0gKHN1Ym1pdCk9XCJzYXZlKClcIiBbZm9ybUdyb3VwXT1cInVwZGF0ZUZvcm1Hcm91cFwiPlxuXG4gICAgICAgIDxtYXQtY2FyZC1jb250ZW50IGZ4TGF5b3V0PVwiY29sdW1uXCIgZnhMYXlvdXRBbGlnbj1cImNlbnRlciBjZW50ZXJcIj5cbiAgICAgICAgICA8ZGl2IGZ4TGF5b3V0QWxpZ249XCJjZW50ZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gKGNsaWNrKT1cImNoYW5nZUVkaXRNb2RlKClcIiBjbGFzcz1cImVkaXQtYnV0dG9uXCIgY29sb3I9XCJ3YXJuXCJcbiAgICAgICAgICAgICAgICAgICAgbWF0LXJhaXNlZC1idXR0b24+XG4gICAgICAgICAgICAgIHt7Y2FuY2VsQnV0dG9uVGV4dH19XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDwhLS1uYW1lLS0+XG4gICAgICAgICAgPG1hdC1mb3JtLWZpZWxkIFthcHBlYXJhbmNlXT1cImFwcGVhcmFuY2VcIiBjbGFzcz1cImZ1bGwtd2lkdGhcIj5cbiAgICAgICAgICAgIDxtYXQtbGFiZWw+e3tuYW1lVGV4dH19PC9tYXQtbGFiZWw+XG4gICAgICAgICAgICA8aW5wdXQgW2Zvcm1Db250cm9sXT1cInVwZGF0ZU5hbWVGb3JtQ29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgbWF0SW5wdXRcbiAgICAgICAgICAgICAgICAgICBbcGxhY2Vob2xkZXJdPVwibmFtZVRleHRcIj5cbiAgICAgICAgICAgIDxtYXQtaWNvbiBtYXRTdWZmaXg+cGVyc29uPC9tYXQtaWNvbj5cbiAgICAgICAgICAgIDxtYXQtaGludCBhbGlnbj1cImVuZFwiIGFyaWEtbGl2ZT1cInBvbGl0ZVwiPiB7eyB1cGRhdGVOYW1lRm9ybUNvbnRyb2wudmFsdWU/Lmxlbmd0aCB9fVxuICAgICAgICAgICAgICAvIHt7IGNvbmZpZy5uYW1lTWF4TGVuZ3RoIH19IDwvbWF0LWhpbnQ+XG4gICAgICAgICAgICA8bWF0LWVycm9yICpuZ0lmPVwidXBkYXRlTmFtZUZvcm1Db250cm9sLmhhc0Vycm9yKCdyZXF1aXJlZCcpXCI+XG4gICAgICAgICAgICAgIHt7bmFtZUVycm9yUmVxdWlyZWRUZXh0fX1cbiAgICAgICAgICAgIDwvbWF0LWVycm9yPlxuICAgICAgICAgIDwvbWF0LWZvcm0tZmllbGQ+XG5cbiAgICAgICAgICA8IS0tZW1haWwtLT5cbiAgICAgICAgICA8bWF0LWZvcm0tZmllbGQgW2FwcGVhcmFuY2VdPVwiYXBwZWFyYW5jZVwiIGNsYXNzPVwiZnVsbC13aWR0aFwiPlxuICAgICAgICAgICAgPG1hdC1sYWJlbD57e2VtYWlsVGV4dH19PC9tYXQtbGFiZWw+XG4gICAgICAgICAgICA8aW5wdXQgW2Zvcm1Db250cm9sXT1cInVwZGF0ZUVtYWlsRm9ybUNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgIG1hdElucHV0XG4gICAgICAgICAgICAgICAgICAgW3BsYWNlaG9sZGVyXT1cImVtYWlsVGV4dFwiPlxuICAgICAgICAgICAgPG1hdC1pY29uIG1hdFN1ZmZpeD5lbWFpbDwvbWF0LWljb24+XG4gICAgICAgICAgICA8bWF0LWVycm9yICpuZ0lmPVwidXBkYXRlRW1haWxGb3JtQ29udHJvbC5oYXNFcnJvcigncmVxdWlyZWQnKVwiPlxuICAgICAgICAgICAgICB7e2VtYWlsRXJyb3JSZXF1aXJlZFRleHR9fSB7e3VwZGF0ZUVtYWlsRm9ybUNvbnRyb2wudmFsdWV9fVxuICAgICAgICAgICAgPC9tYXQtZXJyb3I+XG4gICAgICAgICAgICA8bWF0LWVycm9yICpuZ0lmPVwidXBkYXRlRW1haWxGb3JtQ29udHJvbC5oYXNFcnJvcigncGF0dGVybicpXCI+XG4gICAgICAgICAgICAgIHt7ZW1haWxFcnJvclBhdHRlcm5UZXh0fX0ge3t1cGRhdGVFbWFpbEZvcm1Db250cm9sLnZhbHVlfX1cbiAgICAgICAgICAgIDwvbWF0LWVycm9yPlxuICAgICAgICAgIDwvbWF0LWZvcm0tZmllbGQ+XG5cbiAgICAgICAgICA8IS0tcGhvbmUgbnVtYmVyLS0+XG4gICAgICAgICAgPG1hdC1mb3JtLWZpZWxkICpuZ0lmPVwiZmFsc2VcIiBbYXBwZWFyYW5jZV09XCJhcHBlYXJhbmNlXCIgY2xhc3M9XCJmdWxsLXdpZHRoXCI+XG4gICAgICAgICAgICA8bWF0LWxhYmVsPnt7cGhvbmVUZXh0fX08L21hdC1sYWJlbD5cbiAgICAgICAgICAgIDxpbnB1dCBbZm9ybUNvbnRyb2xdPVwidXBkYXRlUGhvbmVOdW1iZXJGb3JtQ29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgbWF0SW5wdXRcbiAgICAgICAgICAgICAgICAgICBbcGxhY2Vob2xkZXJdPVwicGhvbmVUZXh0XCJcbiAgICAgICAgICAgICAgICAgICB0eXBlPVwidGVsXCI+XG4gICAgICAgICAgICA8bWF0LWljb24gbWF0U3VmZml4PnBob25lPC9tYXQtaWNvbj5cbiAgICAgICAgICAgIDxtYXQtaGludCBhbGlnbj1cImVuZFwiIGFyaWEtbGl2ZT1cInBvbGl0ZVwiPlxuICAgICAgICAgICAgICB7e3Bob25lSGludFRleHR9fVxuICAgICAgICAgICAgPC9tYXQtaGludD5cbiAgICAgICAgICAgIDxtYXQtZXJyb3IgKm5nSWY9XCJ1cGRhdGVQaG9uZU51bWJlckZvcm1Db250cm9sLmhhc0Vycm9yKCdwYXR0ZXJuJylcIj5cbiAgICAgICAgICAgICAge3twaG9uZUVycm9yUGF0dGVyblRleHR9fVxuICAgICAgICAgICAgPC9tYXQtZXJyb3I+XG4gICAgICAgICAgPC9tYXQtZm9ybS1maWVsZD5cblxuICAgICAgICA8L21hdC1jYXJkLWNvbnRlbnQ+XG5cbiAgICAgICAgPG1hdC1jYXJkLWFjdGlvbnMgZnhMYXlvdXQ9XCJjb2x1bW5cIj5cbiAgICAgICAgICA8YnV0dG9uIGNvbG9yPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICBtYXQtYnV0dG9uXG4gICAgICAgICAgICAgICAgICB0eXBlPVwic3VibWl0XCI+XG4gICAgICAgICAgICB7e3NhdmVDaGFuZ2VzQnV0dG9uVGV4dH19XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvbWF0LWNhcmQtYWN0aW9ucz5cbiAgICAgIDwvZm9ybT5cbiAgICA8L25nLXRlbXBsYXRlPlxuXG4gICAgPG5nLXRlbXBsYXRlICNyZWFkb25seT5cbiAgICAgIDxkaXYgZnhMYXlvdXRBbGlnbj1cImNlbnRlclwiPlxuICAgICAgICA8YnV0dG9uICpuZ0lmPVwiY2FuRWRpdEFjY291bnRcIiAoY2xpY2spPVwiY2hhbmdlRWRpdE1vZGUoKVwiIGNsYXNzPVwiZWRpdC1idXR0b25cIiBjb2xvcj1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgIG1hdC1yYWlzZWQtYnV0dG9uPlxuICAgICAgICAgIHt7ZWRpdEJ1dHRvblRleHR9fVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8IS0tbmFtZS0tPlxuICAgICAgPG1hdC1mb3JtLWZpZWxkIFthcHBlYXJhbmNlXT1cImFwcGVhcmFuY2VcIiBjbGFzcz1cImZ1bGwtd2lkdGhcIj5cbiAgICAgICAgPG1hdC1sYWJlbD57e25hbWVUZXh0fX08L21hdC1sYWJlbD5cbiAgICAgICAgPGlucHV0IFtkaXNhYmxlZF09XCIhZWRpdE1vZGVcIlxuICAgICAgICAgICAgICAgW3ZhbHVlXT1cInVzZXIuZGlzcGxheU5hbWVcIlxuICAgICAgICAgICAgICAgbWF0SW5wdXRcbiAgICAgICAgICAgICAgIFtwbGFjZWhvbGRlcl09XCJuYW1lVGV4dFwiPlxuICAgICAgICA8bWF0LWljb24gY29sb3I9XCJwcmltYXJ5XCIgbWF0U3VmZml4PnBlcnNvbjwvbWF0LWljb24+XG4gICAgICA8L21hdC1mb3JtLWZpZWxkPlxuXG4gICAgICA8IS0tZW1haWwtLT5cbiAgICAgIDxtYXQtZm9ybS1maWVsZCBbYXBwZWFyYW5jZV09XCJhcHBlYXJhbmNlXCIgY2xhc3M9XCJmdWxsLXdpZHRoXCI+XG4gICAgICAgIDxtYXQtbGFiZWw+e3tlbWFpbFRleHR9fTwvbWF0LWxhYmVsPlxuICAgICAgICA8aW5wdXQgW2Rpc2FibGVkXT1cIiFlZGl0TW9kZVwiXG4gICAgICAgICAgICAgICBbdmFsdWVdPVwidXNlci5lbWFpbFwiIG1hdElucHV0XG4gICAgICAgICAgICAgICBbcGxhY2Vob2xkZXJdPVwiZW1haWxUZXh0XCI+XG4gICAgICAgIDxtYXQtaWNvbiBjb2xvcj1cInByaW1hcnlcIiBtYXRTdWZmaXg+ZW1haWw8L21hdC1pY29uPlxuICAgICAgPC9tYXQtZm9ybS1maWVsZD5cblxuICAgICAgPCEtLXBob25lIG51bWJlci0tPlxuICAgICAgPG1hdC1mb3JtLWZpZWxkICpuZ0lmPVwiZmFsc2VcIiBbYXBwZWFyYW5jZV09XCJhcHBlYXJhbmNlXCIgY2xhc3M9XCJmdWxsLXdpZHRoXCI+XG4gICAgICAgIDxtYXQtbGFiZWw+e3twaG9uZVRleHR9fTwvbWF0LWxhYmVsPlxuICAgICAgICA8aW5wdXQgW2Rpc2FibGVkXT1cIiFlZGl0TW9kZVwiXG4gICAgICAgICAgICAgICBbdmFsdWVdPVwidXNlci5waG9uZU51bWJlclwiXG4gICAgICAgICAgICAgICBtYXRJbnB1dFxuICAgICAgICAgICAgICAgW3BsYWNlaG9sZGVyXT1cInBob25lVGV4dFwiPlxuICAgICAgICA8bWF0LWljb24gY29sb3I9XCJwcmltYXJ5XCIgbWF0U3VmZml4PnBob25lPC9tYXQtaWNvbj5cbiAgICAgIDwvbWF0LWZvcm0tZmllbGQ+XG5cbiAgICAgIDxtYXQtY2FyZC1hY3Rpb25zIGZ4TGF5b3V0PVwiY29sdW1uXCI+XG4gICAgICAgIDxidXR0b24gKGNsaWNrKT1cInNpZ25PdXQoKVwiICpuZ0lmPVwiY2FuTG9nb3V0XCIgY29sb3I9XCJwcmltYXJ5XCIgbWF0LWJ1dHRvbj57e3NpZ25vdXRCdXR0b25UZXh0fX08L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiAoY2xpY2spPVwiZGVsZXRlQWNjb3VudCgpXCIgKm5nSWY9XCJjYW5EZWxldGVBY2NvdW50XCIgY29sb3I9XCJ3YXJuXCIgbWF0LWJ1dHRvbj57e2RlbGV0ZUFjY291bnRCdXR0b25UZXh0fX08L2J1dHRvbj5cbiAgICAgIDwvbWF0LWNhcmQtYWN0aW9ucz5cblxuICAgIDwvbmctdGVtcGxhdGU+XG5cbiAgPC9tYXQtY2FyZD5cblxuPC9uZy10ZW1wbGF0ZT5cblxuXG48bmctdGVtcGxhdGUgI25vbmU+XG4gIDxtYXQtY2FyZCBjbGFzcz1cIm5vbmUtY2FyZFwiIGZ4TGF5b3V0PVwicm93XCIgZnhMYXlvdXRBbGlnbj1cImNlbnRlciBjZW50ZXJcIj5cbiAgICA8bWF0LWNhcmQtY29udGVudCBmeExheW91dD1cInJvd1wiIGZ4TGF5b3V0QWxpZ249XCJjZW50ZXIgY2VudGVyXCI+XG4gICAgICA8bWF0LWljb24gY29sb3I9XCJhY2NlbnRcIj53YXJuaW5nPC9tYXQtaWNvbj5cbiAgICAgIDxzcGFuPnt7bm90TG9nZ2VkSW5UZXh0fX08L3NwYW4+XG4gICAgPC9tYXQtY2FyZC1jb250ZW50PlxuICA8L21hdC1jYXJkPlxuPC9uZy10ZW1wbGF0ZT5cbiJdfQ==